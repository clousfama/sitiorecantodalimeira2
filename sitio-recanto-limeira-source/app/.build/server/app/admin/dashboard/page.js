(()=>{var e={};e.id=427,e.ids=[427],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},59123:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>o}),s(32977),s(90596),s(77564),s(35866);var t=s(23191),r=s(88716),i=s(37922),n=s.n(i),l=s(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(a,c);let o=["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,32977)),"/home/ubuntu/vercel-deploy/sitio-recanto-limeira-source/app/app/admin/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,90596)),"/home/ubuntu/vercel-deploy/sitio-recanto-limeira-source/app/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,77564)),"/home/ubuntu/vercel-deploy/sitio-recanto-limeira-source/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/ubuntu/vercel-deploy/sitio-recanto-limeira-source/app/app/admin/dashboard/page.tsx"],m="/admin/dashboard/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63940:(e,a,s)=>{Promise.resolve().then(s.bind(s,17433))},25591:(e,a,s)=>{Promise.resolve().then(s.bind(s,2802))},76457:(e,a,s)=>{Promise.resolve().then(s.bind(s,17493))},11600:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},17433:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>R});var t=s(10326),r=s(77109),i=s(35047),n=s(17577),l=s(28855),c=s(33071),o=s(90772),d=s(28671),m=s(77863);let x=(0,d.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function u({className:e,variant:a,...s}){return t.jsx("div",{className:(0,m.cn)(x({variant:a}),e),...s})}var h=s(54432),p=s(87673),g=s(48998),b=s(30361),f=s(62881);let v=(0,f.Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),j=(0,f.Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),y=(0,f.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var N=s(37358),k=s(50949);let w=(0,f.Z)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),C=(0,f.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),S=(0,f.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var E=s(58038),P=s(24061),Z=s(42887);let M=(0,f.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),z=(0,f.Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function R(){let{data:e,status:a}=(0,r.useSession)()||{};(0,i.useRouter)();let[s,d]=(0,n.useState)([]),[m,x]=(0,n.useState)([]),[f,R]=(0,n.useState)([]),[I,O]=(0,n.useState)(!0),[D,q]=(0,n.useState)("reservations"),[A,T]=(0,n.useState)(""),[L,_]=(0,n.useState)(""),[G,H]=(0,n.useState)("https://www.airbnb.com/calendar/ical/1472647101580205867.ics?s=b97d414e9cafe42dca0b119cca0a25f7&locale=pt"),[B,$]=(0,n.useState)(!1),[U,V]=(0,n.useState)(null),[Y,J]=(0,n.useState)(!1),[F,W]=(0,n.useState)({guestName:"",guestEmail:"",guestPhone:"",checkIn:"",checkOut:"",guests:1,totalPrice:"",observations:""}),[X,K]=(0,n.useState)(!1),[Q,ee]=(0,n.useState)(null),ea=async()=>{O(!0);try{await Promise.all([es(),et(),er()])}finally{O(!1)}},es=async()=>{try{let e=await fetch("/api/reservations");if(e.ok){let a=await e.json();d(a)}}catch(e){console.error("Erro ao buscar reservas:",e)}},et=async()=>{try{let e=await fetch("/api/admin/blocked-dates");if(e.ok){let a=await e.json();x(a)}}catch(e){console.error("Erro ao buscar datas bloqueadas:",e)}},er=async()=>{try{let e=await fetch("/api/admin/reservations/conflicts");if(e.ok){let a=await e.json();R(a.conflicts)}}catch(e){console.error("Erro ao buscar conflitos:",e)}},ei=async()=>{if(A)try{let e=await fetch("/api/admin/blocked-dates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:A,reason:L||"Indispon\xedvel"})});if(e.ok)T(""),_(""),et();else{let a=await e.json();alert(a.error)}}catch(e){console.error("Erro ao bloquear data:",e),alert("Erro ao bloquear data")}},en=async e=>{try{(await fetch(`/api/admin/blocked-dates/${e}`,{method:"DELETE"})).ok&&et()}catch(e){console.error("Erro ao desbloquear data:",e)}},el=async(e,a)=>{try{(await fetch(`/api/reservations/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:a})})).ok&&await ea()}catch(e){console.error("Erro ao atualizar status:",e)}},ec=async()=>{if(!G.trim()){V({message:"URL do iCal \xe9 obrigat\xf3ria",success:!1});return}$(!0),V(null);try{let e=await fetch("/api/admin/sync-airbnb",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({icalUrl:G.trim()})}),a=await e.json();e.ok&&a.success?(V({message:a.message,success:!0}),await et()):V({message:a.error||a.message||"Erro na sincroniza\xe7\xe3o",success:!1})}catch(e){V({message:"Erro de conex\xe3o. Tente novamente.",success:!1})}finally{$(!1)}},eo=async()=>{if(!F.guestName||!F.guestEmail||!F.checkIn||!F.checkOut){ee({message:"Preencha os campos obrigat\xf3rios",success:!1});return}K(!0),ee(null);try{let e=await fetch("/api/admin/reservations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}),a=await e.json();e.ok&&a.success?(ee({message:a.message,success:!0}),W({guestName:"",guestEmail:"",guestPhone:"",checkIn:"",checkOut:"",guests:1,totalPrice:"",observations:""}),await ea()):ee({message:a.error||"Erro ao criar reserva",success:!1})}catch(e){ee({message:"Erro de conex\xe3o. Tente novamente.",success:!1})}finally{K(!1)}},ed=async e=>{try{let a=await fetch("/api/admin/auto-sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e})}),s=await a.json();a.ok?(J(s.isRunning),V({message:s.message,success:!0})):V({message:s.error||"Erro ao alterar sincroniza\xe7\xe3o autom\xe1tica",success:!1})}catch(e){V({message:"Erro de conex\xe3o",success:!1})}},em=e=>{let a={PENDING:{label:"Pendente",variant:"secondary",icon:g.Z},CONFIRMED:{label:"Confirmada",variant:"default",icon:b.Z},CANCELLED:{label:"Cancelada",variant:"destructive",icon:v},COMPLETED:{label:"Conclu\xedda",variant:"outline",icon:b.Z}}[e],s=a.icon;return(0,t.jsxs)(u,{variant:a.variant,className:"flex items-center gap-1",children:[t.jsx(s,{className:"h-3 w-3"}),a.label]})};if("loading"===a||I)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Carregando..."});if("unauthenticated"===a)return null;let ex=e=>{let a={HIGH:{variant:"destructive",label:"Alto"},MEDIUM:{variant:"secondary",label:"M\xe9dio"},LOW:{variant:"outline",label:"Baixo"}}[e];return t.jsx(u,{variant:a.variant,children:a.label})},eu=s.filter(e=>"PENDING"===e.status).length,eh=s.filter(e=>"CONFIRMED"===e.status).length,ep=f.filter(e=>"HIGH"===e.priority).length,eg=m.length;return t.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Painel Administrativo"}),t.jsx("p",{className:"text-gray-600",children:"S\xedtio Recanto da Limeira"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.z,{onClick:ea,variant:"outline",className:"flex items-center gap-2",children:[t.jsx(j,{className:"h-4 w-4"}),"Atualizar"]}),(0,t.jsxs)(o.z,{onClick:()=>(0,r.signOut)({callbackUrl:"/"}),variant:"outline",className:"flex items-center gap-2",children:[t.jsx(y,{className:"h-4 w-4"}),"Sair"]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2 mb-6",children:[(0,t.jsxs)(o.z,{variant:"reservations"===D?"default":"outline",onClick:()=>q("reservations"),className:"flex items-center gap-2",children:[t.jsx(N.Z,{className:"h-4 w-4"}),"Reservas (",s.length,")"]}),(0,t.jsxs)(o.z,{variant:"conflicts"===D?"default":"outline",onClick:()=>q("conflicts"),className:"flex items-center gap-2",children:[t.jsx(k.Z,{className:"h-4 w-4"}),"Conflitos (",f.length,")"]}),(0,t.jsxs)(o.z,{variant:"blocked"===D?"default":"outline",onClick:()=>q("blocked"),className:"flex items-center gap-2",children:[t.jsx(w,{className:"h-4 w-4"}),"Datas Bloqueadas (",eg,")"]}),(0,t.jsxs)(o.z,{variant:"sync"===D?"default":"outline",onClick:()=>q("sync"),className:"flex items-center gap-2",children:[t.jsx(C,{className:"h-4 w-4"}),"Sincroniza\xe7\xe3o Airbnb"]}),(0,t.jsxs)(o.z,{variant:"manual-booking"===D?"default":"outline",onClick:()=>q("manual-booking"),className:"flex items-center gap-2",children:[t.jsx(S,{className:"h-4 w-4"}),"Nova Reserva"]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Reservas Pendentes"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:eu})]}),t.jsx(g.Z,{className:"h-8 w-8 text-orange-600"})]})})}),t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Reservas Confirmadas"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:eh})]}),t.jsx(b.Z,{className:"h-8 w-8 text-green-600"})]})})}),t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conflitos Cr\xedticos"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:ep})]}),t.jsx(k.Z,{className:"h-8 w-8 text-red-600"})]})})}),t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Datas Bloqueadas"}),t.jsx("p",{className:"text-2xl font-bold text-gray-600",children:eg})]}),t.jsx(E.Z,{className:"h-8 w-8 text-gray-600"})]})})})]}),"reservations"===D&&(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:t.jsx(c.ll,{children:"Gerenciar Reservas"})}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[s.map(e=>(0,t.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 border rounded-lg hover:bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[t.jsx("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800",children:e.guestName}),t.jsx("p",{className:"text-sm text-gray-600",children:e.guestEmail})]})}),em(e.status)]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(N.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{children:[new Date(e.checkIn).toLocaleDateString("pt-BR")," - ",new Date(e.checkOut).toLocaleDateString("pt-BR")]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(P.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{children:[e.guests," h\xf3spedes"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(Z.Z,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{children:e.guestPhone})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(g.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{children:[e.totalDays," dias"]})]})]}),e.observations&&(0,t.jsxs)("div",{className:"mt-3 p-2 bg-gray-50 rounded text-sm",children:[t.jsx("strong",{children:"Observa\xe7\xf5es:"})," ",e.observations]}),"PENDING"===e.status&&(0,t.jsxs)("div",{className:"mt-4 flex gap-2",children:[t.jsx(o.z,{size:"sm",onClick:()=>el(e.id,"CONFIRMED"),className:"bg-green-600 hover:bg-green-700",children:"Confirmar"}),t.jsx(o.z,{size:"sm",variant:"destructive",onClick:()=>el(e.id,"CANCELLED"),children:"Cancelar"})]})]},e.id)),0===s.length&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma reserva encontrada"})]})})]}),"conflicts"===D&&(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[t.jsx(k.Z,{className:"h-5 w-5"}),"Conflitos de Reservas"]})}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[f.map((e,a)=>(0,t.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:`p-4 border rounded-lg ${"HIGH"===e.priority?"border-red-200 bg-red-50":"MEDIUM"===e.priority?"border-yellow-200 bg-yellow-50":"border-gray-200 bg-gray-50"}`,children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:e.message}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Tipo: ","OVERLAP"===e.type?"Sobreposi\xe7\xe3o de datas":"Mesmo dia de entrada/sa\xedda"]})]}),ex(e.priority)]}),t.jsx("div",{className:"space-y-2",children:e.reservations.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center bg-white p-2 rounded border-l-4 border-blue-400",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:e.guestName}),(0,t.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:[new Date(e.checkIn).toLocaleDateString("pt-BR")," - ",new Date(e.checkOut).toLocaleDateString("pt-BR")]})]}),em(e.status)]},e.id))})]},a)),0===f.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-green-600",children:[t.jsx(b.Z,{className:"h-12 w-12 mx-auto mb-2"}),t.jsx("p",{className:"font-semibold",children:"Nenhum conflito detectado!"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Todas as reservas est\xe3o organizadas corretamente."})]})]})})]}),"blocked"===D&&(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[t.jsx(w,{className:"h-5 w-5"}),"Gerenciar Datas Bloqueadas"]})}),(0,t.jsxs)(c.aY,{children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[t.jsx("h3",{className:"font-semibold mb-3",children:"Bloquear Nova Data"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsx(h.I,{type:"date",value:A,onChange:e=>T(e.target.value),min:new Date().toISOString().split("T")[0]}),t.jsx(h.I,{placeholder:"Motivo (opcional)",value:L,onChange:e=>_(e.target.value)}),(0,t.jsxs)(o.z,{onClick:ei,disabled:!A,className:"flex items-center gap-2",children:[t.jsx(S,{className:"h-4 w-4"}),"Bloquear Data"]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[m.map(e=>(0,t.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg border",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:new Date(e.date).toLocaleDateString("pt-BR")}),(0,t.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["- ",e.reason]})]}),(0,t.jsxs)(o.z,{size:"sm",variant:"destructive",onClick:()=>en(e.id),className:"flex items-center gap-2",children:[t.jsx(M,{className:"h-3 w-3"}),"Desbloquear"]})]},e.id)),0===m.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(N.Z,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),t.jsx("p",{className:"font-semibold",children:"Nenhuma data bloqueada"}),t.jsx("p",{className:"text-sm",children:"Use o formul\xe1rio acima para bloquear datas espec\xedficas."})]})]})]})]}),"sync"===D&&(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[t.jsx(C,{className:"h-5 w-5"}),"Sincroniza\xe7\xe3o com Airbnb"]})}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[t.jsx(z,{className:"h-4 w-4"}),"Como funciona"]}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"A sincroniza\xe7\xe3o importa automaticamente as reservas do Airbnb para evitar conflitos de agendamento. As datas ocupadas no Airbnb ser\xe3o bloqueadas automaticamente no sistema."}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[t.jsx(z,{className:"h-3 w-3"}),t.jsx("a",{href:"https://www.airbnb.com.br/rooms/1472647101580205867",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-800",children:"Ver listagem no Airbnb"})]})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[t.jsx(C,{className:"h-4 w-4"}),"Sincroniza\xe7\xe3o Autom\xe1tica"]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Status: ",t.jsx("span",{className:`font-medium ${Y?"text-green-600":"text-red-600"}`,children:Y?"Ativa (a cada 4 horas)":"Inativa"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Sincroniza automaticamente as reservas do Airbnb"})]}),t.jsx(o.z,{variant:Y?"destructive":"default",onClick:()=>ed(Y?"stop":"start"),className:"flex items-center gap-2",children:Y?"Parar":"Iniciar"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL do iCal do Airbnb"}),t.jsx(h.I,{type:"url",value:G,onChange:e=>H(e.target.value),placeholder:"https://www.airbnb.com.br/calendar/ical/...",className:"w-full"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL do calend\xe1rio iCal fornecida pelo Airbnb para sincroniza\xe7\xe3o"})]}),(0,t.jsxs)(o.z,{onClick:ec,disabled:B||!G.trim(),className:"flex items-center gap-2",children:[t.jsx(C,{className:`h-4 w-4 ${B?"animate-spin":""}`}),B?"Sincronizando...":"Sincronizar Agora (Manual)"]})]}),U&&(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${U.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[U.success?t.jsx(b.Z,{className:"h-5 w-5 text-green-600"}):t.jsx(v,{className:"h-5 w-5 text-red-600"}),t.jsx("p",{className:`font-medium ${U.success?"text-green-800":"text-red-800"}`,children:U.success?"Sincroniza\xe7\xe3o conclu\xedda!":"Erro na sincroniza\xe7\xe3o"})]}),t.jsx("p",{className:`text-sm mt-1 ${U.success?"text-green-700":"text-red-700"}`,children:U.message})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Instru\xe7\xf5es para obter o link iCal:"}),(0,t.jsxs)("ol",{className:"text-sm text-gray-600 space-y-1",children:[t.jsx("li",{children:"1. Acesse sua listagem no Airbnb"}),t.jsx("li",{children:'2. V\xe1 em "Calend\xe1rio" → "Disponibilidade"'}),t.jsx("li",{children:'3. Clique em "Exportar calend\xe1rio"'}),t.jsx("li",{children:"4. Copie o link iCal fornecido"}),t.jsx("li",{children:'5. Cole o link acima e clique em "Sincronizar"'})]})]})]})})]}),"manual-booking"===D&&(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[t.jsx(S,{className:"h-5 w-5"}),"Criar Nova Reserva"]})}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Reserva Manual"}),t.jsx("p",{className:"text-sm text-gray-600",children:'Use este formul\xe1rio para criar reservas diretamente no sistema. A reserva ser\xe1 criada com status "Confirmada" automaticamente.'})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do H\xf3spede *"}),t.jsx(h.I,{value:F.guestName,onChange:e=>W({...F,guestName:e.target.value}),placeholder:"Nome completo"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),t.jsx(h.I,{type:"email",value:F.guestEmail,onChange:e=>W({...F,guestEmail:e.target.value}),placeholder:"email@exemplo.com"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),t.jsx(h.I,{value:F.guestPhone,onChange:e=>W({...F,guestPhone:e.target.value}),placeholder:"(11) 99999-9999"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de H\xf3spedes *"}),t.jsx(h.I,{type:"number",min:"1",max:"20",value:F.guests,onChange:e=>W({...F,guests:parseInt(e.target.value)||1})})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in *"}),t.jsx(h.I,{type:"date",value:F.checkIn,onChange:e=>W({...F,checkIn:e.target.value}),min:new Date().toISOString().split("T")[0]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out *"}),t.jsx(h.I,{type:"date",value:F.checkOut,onChange:e=>W({...F,checkOut:e.target.value}),min:F.checkIn||new Date().toISOString().split("T")[0]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Total (R$)"}),t.jsx(h.I,{type:"number",step:"0.01",min:"0",value:F.totalPrice,onChange:e=>W({...F,totalPrice:e.target.value}),placeholder:"0.00"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observa\xe7\xf5es"}),t.jsx(p.g,{value:F.observations,onChange:e=>W({...F,observations:e.target.value}),placeholder:"Observa\xe7\xf5es adicionais sobre a reserva...",rows:3})]}),(0,t.jsxs)(o.z,{onClick:eo,disabled:X||!F.guestName||!F.guestEmail||!F.checkIn||!F.checkOut,className:"flex items-center gap-2",children:[t.jsx(S,{className:`h-4 w-4 ${X?"animate-spin":""}`}),X?"Criando Reserva...":"Criar Reserva"]}),Q&&(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${Q.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[Q.success?t.jsx(b.Z,{className:"h-5 w-5 text-green-600"}):t.jsx(v,{className:"h-5 w-5 text-red-600"}),t.jsx("p",{className:`font-medium ${Q.success?"text-green-800":"text-red-800"}`,children:Q.success?"Reserva criada com sucesso!":"Erro ao criar reserva"})]}),t.jsx("p",{className:`text-sm mt-1 ${Q.success?"text-green-700":"text-red-700"}`,children:Q.message})]})]})})]})]})})}},2802:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});var t=s(10326),r=s(77109);function i({children:e}){return t.jsx(r.SessionProvider,{children:e})}},17493:(e,a,s)=>{"use strict";s.d(a,{default:()=>i});var t=s(10326),r=s(77109);function i({children:e}){return t.jsx(r.SessionProvider,{children:e})}},90772:(e,a,s)=>{"use strict";s.d(a,{z:()=>o});var t=s(10326),r=s(17577),i=s(86438),n=s(28671),l=s(77863);let c=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef(({className:e,variant:a,size:s,asChild:r=!1,...n},o)=>{let d=r?i.g7:"button";return t.jsx(d,{className:(0,l.cn)(c({variant:a,size:s,className:e})),ref:o,...n})});o.displayName="Button"},33071:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>l,Zb:()=>n,aY:()=>o,ll:()=>c});var t=s(10326),r=s(17577),i=s(77863);let n=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));n.displayName="Card";let l=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...a}));l.displayName="CardHeader";let c=r.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));c.displayName="CardTitle",r.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let o=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...a}));o.displayName="CardContent",r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},54432:(e,a,s)=>{"use strict";s.d(a,{I:()=>n});var t=s(10326),r=s(17577),i=s(77863);let n=r.forwardRef(({className:e,type:a,...s},r)=>t.jsx("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));n.displayName="Input"},87673:(e,a,s)=>{"use strict";s.d(a,{g:()=>n});var t=s(10326),r=s(17577),i=s(77863);let n=r.forwardRef(({className:e,...a},s)=>t.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));n.displayName="Textarea"},77863:(e,a,s)=>{"use strict";s.d(a,{cn:()=>i,kU:()=>n});var t=s(41135),r=s(31009);function i(...e){return(0,r.m6)((0,t.W)(e))}function n(e){let a=encodeURIComponent(e);return`https://wa.me/5531994674730?text=${a}`}},37358:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},30361:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48998:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},42887:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},58038:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},50949:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},24061:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},35047:(e,a,s)=>{"use strict";var t=s(77389);s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},32977:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/home/ubuntu/vercel-deploy/sitio-recanto-limeira-source/app/app/admin/dashboard/page.tsx#default`)},90596:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/home/ubuntu/vercel-deploy/sitio-recanto-limeira-source/app/app/admin/layout.tsx#default`)},77564:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c,metadata:()=>l});var t=s(19510),r=s(85384),i=s.n(r);s(67272);let n=(0,s(68570).createProxy)(String.raw`/home/ubuntu/vercel-deploy/sitio-recanto-limeira-source/app/components/providers.tsx#default`),l={title:"S\xedtio Recanto da Limeira - Loca\xe7\xe3o para Eventos e Temporada",description:"S\xedtio localizado em Minas Gerais, pr\xf3ximo a Itabirito e Eng. Correa. Capacidade para 20 pessoas, 8 quartos, piscina e natureza exuberante. Ideal para confraterniza\xe7\xf5es e momentos especiais.",keywords:"sitio, loca\xe7\xe3o, temporada, eventos, Minas Gerais, Itabirito, natureza, piscina, confraterniza\xe7\xe3o",openGraph:{title:"S\xedtio Recanto da Limeira",description:"Ref\xfagio perfeito para momentos inesquec\xedveis em meio \xe0 natureza exuberante de Minas Gerais",type:"website",locale:"pt_BR"}};function c({children:e}){return t.jsx("html",{lang:"pt-BR",children:t.jsx("body",{className:i().className,children:t.jsx(n,{children:e})})})}},67272:()=>{}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[276,114,926],()=>s(59123));module.exports=t})();