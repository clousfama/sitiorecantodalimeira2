(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{6155:function(e,s,a){Promise.resolve().then(a.bind(a,2416))},2416:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return R}});var t=a(7437),r=a(605),n=a(9376),i=a(2265),l=a(9086),c=a(6070),o=a(2869),d=a(7712),m=a(4508);let x=(0,d.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function u({className:e,variant:s,...a}){return(0,t.jsx)("div",{className:(0,m.cn)(x({variant:s}),e),...a})}var h=a(5186),g=a(6818),f=a(1723),p=a(1671),b=a(9205);let j=(0,b.Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),v=(0,b.Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),y=(0,b.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var N=a(1047),k=a(6865);let w=(0,b.Z)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),C=(0,b.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),E=(0,b.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var Z=a(8906),S=a(5805),z=a(3041);let M=(0,b.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),I=(0,b.Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function R(){let{data:e,status:s}=(0,r.useSession)()||{},a=(0,n.useRouter)(),[d,m]=(0,i.useState)([]),[x,b]=(0,i.useState)([]),[R,O]=(0,i.useState)([]),[D,A]=(0,i.useState)(!0),[P,T]=(0,i.useState)("reservations"),[q,L]=(0,i.useState)(""),[H,$]=(0,i.useState)(""),[B,U]=(0,i.useState)("https://www.airbnb.com/calendar/ical/1472647101580205867.ics?s=b97d414e9cafe42dca0b119cca0a25f7&locale=pt"),[V,Y]=(0,i.useState)(!1),[G,_]=(0,i.useState)(null),[J,F]=(0,i.useState)(!1),[W,K]=(0,i.useState)({guestName:"",guestEmail:"",guestPhone:"",checkIn:"",checkOut:"",guests:1,totalPrice:"",observations:""}),[Q,X]=(0,i.useState)(!1),[ee,es]=(0,i.useState)(null);(0,i.useEffect)(()=>{"unauthenticated"===s?a.push("/admin/login"):"authenticated"===s&&ea()},[s,a]);let ea=async()=>{A(!0);try{await Promise.all([et(),er(),en()])}finally{A(!1)}},et=async()=>{try{let e=await fetch("/api/reservations");if(e.ok){let s=await e.json();m(s)}}catch(e){console.error("Erro ao buscar reservas:",e)}},er=async()=>{try{let e=await fetch("/api/admin/blocked-dates");if(e.ok){let s=await e.json();b(s)}}catch(e){console.error("Erro ao buscar datas bloqueadas:",e)}},en=async()=>{try{let e=await fetch("/api/admin/reservations/conflicts");if(e.ok){let s=await e.json();O(s.conflicts)}}catch(e){console.error("Erro ao buscar conflitos:",e)}},ei=async()=>{if(q)try{let e=await fetch("/api/admin/blocked-dates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:q,reason:H||"Indispon\xedvel"})});if(e.ok)L(""),$(""),er();else{let s=await e.json();alert(s.error)}}catch(e){console.error("Erro ao bloquear data:",e),alert("Erro ao bloquear data")}},el=async e=>{try{(await fetch(`/api/admin/blocked-dates/${e}`,{method:"DELETE"})).ok&&er()}catch(e){console.error("Erro ao desbloquear data:",e)}},ec=async(e,s)=>{try{(await fetch(`/api/reservations/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})})).ok&&await ea()}catch(e){console.error("Erro ao atualizar status:",e)}},eo=async()=>{if(!B.trim()){_({message:"URL do iCal \xe9 obrigat\xf3ria",success:!1});return}Y(!0),_(null);try{let e=await fetch("/api/admin/sync-airbnb",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({icalUrl:B.trim()})}),s=await e.json();e.ok&&s.success?(_({message:s.message,success:!0}),await er()):_({message:s.error||s.message||"Erro na sincroniza\xe7\xe3o",success:!1})}catch(e){_({message:"Erro de conex\xe3o. Tente novamente.",success:!1})}finally{Y(!1)}},ed=async()=>{if(!W.guestName||!W.guestEmail||!W.checkIn||!W.checkOut){es({message:"Preencha os campos obrigat\xf3rios",success:!1});return}X(!0),es(null);try{let e=await fetch("/api/admin/reservations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),s=await e.json();e.ok&&s.success?(es({message:s.message,success:!0}),K({guestName:"",guestEmail:"",guestPhone:"",checkIn:"",checkOut:"",guests:1,totalPrice:"",observations:""}),await ea()):es({message:s.error||"Erro ao criar reserva",success:!1})}catch(e){es({message:"Erro de conex\xe3o. Tente novamente.",success:!1})}finally{X(!1)}},em=async e=>{try{let s=await fetch("/api/admin/auto-sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e})}),a=await s.json();s.ok?(F(a.isRunning),_({message:a.message,success:!0})):_({message:a.error||"Erro ao alterar sincroniza\xe7\xe3o autom\xe1tica",success:!1})}catch(e){_({message:"Erro de conex\xe3o",success:!1})}},ex=async()=>{try{let e=await fetch("/api/admin/auto-sync");if(e.ok){let s=await e.json();F(s.isRunning)}}catch(e){console.error("Erro ao verificar status da sincroniza\xe7\xe3o:",e)}};(0,i.useEffect)(()=>{"authenticated"===s&&ex()},[s]);let eu=e=>{let s={PENDING:{label:"Pendente",variant:"secondary",icon:f.Z},CONFIRMED:{label:"Confirmada",variant:"default",icon:p.Z},CANCELLED:{label:"Cancelada",variant:"destructive",icon:j},COMPLETED:{label:"Conclu\xedda",variant:"outline",icon:p.Z}}[e],a=s.icon;return(0,t.jsxs)(u,{variant:s.variant,className:"flex items-center gap-1",children:[(0,t.jsx)(a,{className:"h-3 w-3"}),s.label]})};if("loading"===s||D)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Carregando..."});if("unauthenticated"===s)return null;let eh=e=>{let s={HIGH:{variant:"destructive",label:"Alto"},MEDIUM:{variant:"secondary",label:"M\xe9dio"},LOW:{variant:"outline",label:"Baixo"}}[e];return(0,t.jsx)(u,{variant:s.variant,children:s.label})},eg=d.filter(e=>"PENDING"===e.status).length,ef=d.filter(e=>"CONFIRMED"===e.status).length,ep=R.filter(e=>"HIGH"===e.priority).length,eb=x.length;return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Painel Administrativo"}),(0,t.jsx)("p",{className:"text-gray-600",children:"S\xedtio Recanto da Limeira"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.z,{onClick:ea,variant:"outline",className:"flex items-center gap-2",children:[(0,t.jsx)(v,{className:"h-4 w-4"}),"Atualizar"]}),(0,t.jsxs)(o.z,{onClick:()=>(0,r.signOut)({callbackUrl:"/"}),variant:"outline",className:"flex items-center gap-2",children:[(0,t.jsx)(y,{className:"h-4 w-4"}),"Sair"]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2 mb-6",children:[(0,t.jsxs)(o.z,{variant:"reservations"===P?"default":"outline",onClick:()=>T("reservations"),className:"flex items-center gap-2",children:[(0,t.jsx)(N.Z,{className:"h-4 w-4"}),"Reservas (",d.length,")"]}),(0,t.jsxs)(o.z,{variant:"conflicts"===P?"default":"outline",onClick:()=>T("conflicts"),className:"flex items-center gap-2",children:[(0,t.jsx)(k.Z,{className:"h-4 w-4"}),"Conflitos (",R.length,")"]}),(0,t.jsxs)(o.z,{variant:"blocked"===P?"default":"outline",onClick:()=>T("blocked"),className:"flex items-center gap-2",children:[(0,t.jsx)(w,{className:"h-4 w-4"}),"Datas Bloqueadas (",eb,")"]}),(0,t.jsxs)(o.z,{variant:"sync"===P?"default":"outline",onClick:()=>T("sync"),className:"flex items-center gap-2",children:[(0,t.jsx)(C,{className:"h-4 w-4"}),"Sincroniza\xe7\xe3o Airbnb"]}),(0,t.jsxs)(o.z,{variant:"manual-booking"===P?"default":"outline",onClick:()=>T("manual-booking"),className:"flex items-center gap-2",children:[(0,t.jsx)(E,{className:"h-4 w-4"}),"Nova Reserva"]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[(0,t.jsx)(c.Zb,{children:(0,t.jsx)(c.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Reservas Pendentes"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:eg})]}),(0,t.jsx)(f.Z,{className:"h-8 w-8 text-orange-600"})]})})}),(0,t.jsx)(c.Zb,{children:(0,t.jsx)(c.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Reservas Confirmadas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:ef})]}),(0,t.jsx)(p.Z,{className:"h-8 w-8 text-green-600"})]})})}),(0,t.jsx)(c.Zb,{children:(0,t.jsx)(c.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Conflitos Cr\xedticos"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:ep})]}),(0,t.jsx)(k.Z,{className:"h-8 w-8 text-red-600"})]})})}),(0,t.jsx)(c.Zb,{children:(0,t.jsx)(c.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Datas Bloqueadas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-600",children:eb})]}),(0,t.jsx)(Z.Z,{className:"h-8 w-8 text-gray-600"})]})})})]}),"reservations"===P&&(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsx)(c.ll,{children:"Gerenciar Reservas"})}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[d.map(e=>(0,t.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 border rounded-lg hover:bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:e.guestName}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.guestEmail})]})}),eu(e.status)]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{children:[new Date(e.checkIn).toLocaleDateString("pt-BR")," - ",new Date(e.checkOut).toLocaleDateString("pt-BR")]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(S.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{children:[e.guests," h\xf3spedes"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(z.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{children:e.guestPhone})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{children:[e.totalDays," dias"]})]})]}),e.observations&&(0,t.jsxs)("div",{className:"mt-3 p-2 bg-gray-50 rounded text-sm",children:[(0,t.jsx)("strong",{children:"Observa\xe7\xf5es:"})," ",e.observations]}),"PENDING"===e.status&&(0,t.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,t.jsx)(o.z,{size:"sm",onClick:()=>ec(e.id,"CONFIRMED"),className:"bg-green-600 hover:bg-green-700",children:"Confirmar"}),(0,t.jsx)(o.z,{size:"sm",variant:"destructive",onClick:()=>ec(e.id,"CANCELLED"),children:"Cancelar"})]})]},e.id)),0===d.length&&(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma reserva encontrada"})]})})]}),"conflicts"===P&&(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(k.Z,{className:"h-5 w-5"}),"Conflitos de Reservas"]})}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[R.map((e,s)=>(0,t.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:`p-4 border rounded-lg ${"HIGH"===e.priority?"border-red-200 bg-red-50":"MEDIUM"===e.priority?"border-yellow-200 bg-yellow-50":"border-gray-200 bg-gray-50"}`,children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-1",children:e.message}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Tipo: ","OVERLAP"===e.type?"Sobreposi\xe7\xe3o de datas":"Mesmo dia de entrada/sa\xedda"]})]}),eh(e.priority)]}),(0,t.jsx)("div",{className:"space-y-2",children:e.reservations.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center bg-white p-2 rounded border-l-4 border-blue-400",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:e.guestName}),(0,t.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:[new Date(e.checkIn).toLocaleDateString("pt-BR")," - ",new Date(e.checkOut).toLocaleDateString("pt-BR")]})]}),eu(e.status)]},e.id))})]},s)),0===R.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-green-600",children:[(0,t.jsx)(p.Z,{className:"h-12 w-12 mx-auto mb-2"}),(0,t.jsx)("p",{className:"font-semibold",children:"Nenhum conflito detectado!"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Todas as reservas est\xe3o organizadas corretamente."})]})]})})]}),"blocked"===P&&(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(w,{className:"h-5 w-5"}),"Gerenciar Datas Bloqueadas"]})}),(0,t.jsxs)(c.aY,{children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Bloquear Nova Data"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,t.jsx)(h.I,{type:"date",value:q,onChange:e=>L(e.target.value),min:new Date().toISOString().split("T")[0]}),(0,t.jsx)(h.I,{placeholder:"Motivo (opcional)",value:H,onChange:e=>$(e.target.value)}),(0,t.jsxs)(o.z,{onClick:ei,disabled:!q,className:"flex items-center gap-2",children:[(0,t.jsx)(E,{className:"h-4 w-4"}),"Bloquear Data"]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[x.map(e=>(0,t.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg border",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:new Date(e.date).toLocaleDateString("pt-BR")}),(0,t.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["- ",e.reason]})]}),(0,t.jsxs)(o.z,{size:"sm",variant:"destructive",onClick:()=>el(e.id),className:"flex items-center gap-2",children:[(0,t.jsx)(M,{className:"h-3 w-3"}),"Desbloquear"]})]},e.id)),0===x.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(N.Z,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),(0,t.jsx)("p",{className:"font-semibold",children:"Nenhuma data bloqueada"}),(0,t.jsx)("p",{className:"text-sm",children:"Use o formul\xe1rio acima para bloquear datas espec\xedficas."})]})]})]})]}),"sync"===P&&(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(C,{className:"h-5 w-5"}),"Sincroniza\xe7\xe3o com Airbnb"]})}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(I,{className:"h-4 w-4"}),"Como funciona"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"A sincroniza\xe7\xe3o importa automaticamente as reservas do Airbnb para evitar conflitos de agendamento. As datas ocupadas no Airbnb ser\xe3o bloqueadas automaticamente no sistema."}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[(0,t.jsx)(I,{className:"h-3 w-3"}),(0,t.jsx)("a",{href:"https://www.airbnb.com.br/rooms/1472647101580205867",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-800",children:"Ver listagem no Airbnb"})]})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(C,{className:"h-4 w-4"}),"Sincroniza\xe7\xe3o Autom\xe1tica"]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Status: ",(0,t.jsx)("span",{className:`font-medium ${J?"text-green-600":"text-red-600"}`,children:J?"Ativa (a cada 4 horas)":"Inativa"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Sincroniza automaticamente as reservas do Airbnb"})]}),(0,t.jsx)(o.z,{variant:J?"destructive":"default",onClick:()=>em(J?"stop":"start"),className:"flex items-center gap-2",children:J?"Parar":"Iniciar"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL do iCal do Airbnb"}),(0,t.jsx)(h.I,{type:"url",value:B,onChange:e=>U(e.target.value),placeholder:"https://www.airbnb.com.br/calendar/ical/...",className:"w-full"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"URL do calend\xe1rio iCal fornecida pelo Airbnb para sincroniza\xe7\xe3o"})]}),(0,t.jsxs)(o.z,{onClick:eo,disabled:V||!B.trim(),className:"flex items-center gap-2",children:[(0,t.jsx)(C,{className:`h-4 w-4 ${V?"animate-spin":""}`}),V?"Sincronizando...":"Sincronizar Agora (Manual)"]})]}),G&&(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${G.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[G.success?(0,t.jsx)(p.Z,{className:"h-5 w-5 text-green-600"}):(0,t.jsx)(j,{className:"h-5 w-5 text-red-600"}),(0,t.jsx)("p",{className:`font-medium ${G.success?"text-green-800":"text-red-800"}`,children:G.success?"Sincroniza\xe7\xe3o conclu\xedda!":"Erro na sincroniza\xe7\xe3o"})]}),(0,t.jsx)("p",{className:`text-sm mt-1 ${G.success?"text-green-700":"text-red-700"}`,children:G.message})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Instru\xe7\xf5es para obter o link iCal:"}),(0,t.jsxs)("ol",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsx)("li",{children:"1. Acesse sua listagem no Airbnb"}),(0,t.jsx)("li",{children:'2. V\xe1 em "Calend\xe1rio" â†’ "Disponibilidade"'}),(0,t.jsx)("li",{children:'3. Clique em "Exportar calend\xe1rio"'}),(0,t.jsx)("li",{children:"4. Copie o link iCal fornecido"}),(0,t.jsx)("li",{children:'5. Cole o link acima e clique em "Sincronizar"'})]})]})]})})]}),"manual-booking"===P&&(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(E,{className:"h-5 w-5"}),"Criar Nova Reserva"]})}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Reserva Manual"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:'Use este formul\xe1rio para criar reservas diretamente no sistema. A reserva ser\xe1 criada com status "Confirmada" automaticamente.'})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do H\xf3spede *"}),(0,t.jsx)(h.I,{value:W.guestName,onChange:e=>K({...W,guestName:e.target.value}),placeholder:"Nome completo"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,t.jsx)(h.I,{type:"email",value:W.guestEmail,onChange:e=>K({...W,guestEmail:e.target.value}),placeholder:"email@exemplo.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),(0,t.jsx)(h.I,{value:W.guestPhone,onChange:e=>K({...W,guestPhone:e.target.value}),placeholder:"(11) 99999-9999"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de H\xf3spedes *"}),(0,t.jsx)(h.I,{type:"number",min:"1",max:"20",value:W.guests,onChange:e=>K({...W,guests:parseInt(e.target.value)||1})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in *"}),(0,t.jsx)(h.I,{type:"date",value:W.checkIn,onChange:e=>K({...W,checkIn:e.target.value}),min:new Date().toISOString().split("T")[0]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out *"}),(0,t.jsx)(h.I,{type:"date",value:W.checkOut,onChange:e=>K({...W,checkOut:e.target.value}),min:W.checkIn||new Date().toISOString().split("T")[0]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Total (R$)"}),(0,t.jsx)(h.I,{type:"number",step:"0.01",min:"0",value:W.totalPrice,onChange:e=>K({...W,totalPrice:e.target.value}),placeholder:"0.00"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observa\xe7\xf5es"}),(0,t.jsx)(g.g,{value:W.observations,onChange:e=>K({...W,observations:e.target.value}),placeholder:"Observa\xe7\xf5es adicionais sobre a reserva...",rows:3})]}),(0,t.jsxs)(o.z,{onClick:ed,disabled:Q||!W.guestName||!W.guestEmail||!W.checkIn||!W.checkOut,className:"flex items-center gap-2",children:[(0,t.jsx)(E,{className:`h-4 w-4 ${Q?"animate-spin":""}`}),Q?"Criando Reserva...":"Criar Reserva"]}),ee&&(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${ee.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[ee.success?(0,t.jsx)(p.Z,{className:"h-5 w-5 text-green-600"}):(0,t.jsx)(j,{className:"h-5 w-5 text-red-600"}),(0,t.jsx)("p",{className:`font-medium ${ee.success?"text-green-800":"text-red-800"}`,children:ee.success?"Reserva criada com sucesso!":"Erro ao criar reserva"})]}),(0,t.jsx)("p",{className:`text-sm mt-1 ${ee.success?"text-green-700":"text-red-700"}`,children:ee.message})]})]})})]})]})})}},2869:function(e,s,a){"use strict";a.d(s,{z:function(){return o}});var t=a(7437),r=a(2265),n=a(5293),i=a(7712),l=a(4508);let c=(0,i.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef(({className:e,variant:s,size:a,asChild:r=!1,...i},o)=>{let d=r?n.g7:"button";return(0,t.jsx)(d,{className:(0,l.cn)(c({variant:s,size:a,className:e})),ref:o,...i})});o.displayName="Button"},6070:function(e,s,a){"use strict";a.d(s,{Ol:function(){return l},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var t=a(7437),r=a(2265),n=a(4508);let i=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let l=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let c=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle",r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let o=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},5186:function(e,s,a){"use strict";a.d(s,{I:function(){return i}});var t=a(7437),r=a(2265),n=a(4508);let i=r.forwardRef(({className:e,type:s,...a},r)=>(0,t.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...a}));i.displayName="Input"},6818:function(e,s,a){"use strict";a.d(s,{g:function(){return i}});var t=a(7437),r=a(2265),n=a(4508);let i=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));i.displayName="Textarea"},4508:function(e,s,a){"use strict";a.d(s,{cn:function(){return n},kU:function(){return i}});var t=a(1994),r=a(3335);function n(...e){return(0,r.m6)((0,t.W)(e))}function i(e){let s=encodeURIComponent(e);return`https://wa.me/5531994674730?text=${s}`}},1047:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1671:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1723:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},3041:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},8906:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},6865:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5805:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},9376:function(e,s,a){"use strict";var t=a(5475);a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})}},function(e){e.O(0,[605,263,971,117,744],function(){return e(e.s=6155)}),_N_E=e.O()}]);